<!-- input -->

<h2 class="mt-5 mb-5">
  Awesome form
</h2>

<div class="card border-dark mx-auto">
  <div class="card-header">
    Trim values on
  </div>
  <div class="card-body text-dark">
    <form novalidate>
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="radio" value="input" [formControl]="trigger" id="inputTrigger">
          <label class="form-check-label" for="inputTrigger">
            <code class="ml-1 mr-1">input</code>(default)
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="radio" value="blur" [formControl]="trigger" id="blurTrigger">
          <label class="form-check-label" for="blurTrigger">
            <code class="ml-1 mr-1">blur</code>
          </label>
        </div>
      </div>
    </form>
  </div>
</div>

<hr>

<h3>
  Template Driven Form
</h3>
<hr/>

<form #form="ngForm" class="mx-auto" novalidate (ngSubmit)="onTemplateFormSubmit(form)">

  <!-- -->
  <div class="form-group">
    <label>
      Isolated undefined field.
      <small>
        <i><b>Status</b>: {{undefinedModel.status }} </i>
        <i><b>Dirty</b>: {{undefinedModel.dirty }} </i>
        <i><b>Touched</b>: {{undefinedModel.touched }} </i>
      </small>

    </label>
    <input class="form-control"
           #undefinedModel="ngModel"
           name="undefinedModel"
           ngModel
           placeholder="text" [trim]="trigger.value"/>
  </div>

  <!-- -->
  <div class="form-group">
    <label>
      Disabled field.

      <small>
        <i><b>Status</b>: {{disabledModel.status }} </i>
        <i><b>Dirty</b>: {{disabledModel.dirty }} </i>
        <i><b>Touched</b>: {{disabledModel.touched }} </i>
      </small>

    </label>
    <input class="form-control"
           #disabledModel="ngModel"
           ngModel
           name="disabledModel"
           [disabled]="true"
           placeholder="I'm disabled" [trim]="trigger.value"/>
  </div>

  <div class="right">
    <button class="btn btn-primary btn-lg">Submit</button>
  </div>
  <!-- -->
  <hr/>
  <pre>
    <p> <b>Template Driven values</b> {{ form.value | json }}</p>
    <p> <b>Form status</b> {{ form.status | json }}</p>
  </pre>

</form>
<hr/>
<h3>
  Reactive Form
</h3>
<hr/>

<form novalidate [formGroup]="exampleForm" class="mx-auto" (ngSubmit)="onSubmit()">
  <!--text-->
  <div class="form-group">
    <label>
      Text.
      <small *ngFor="let key of getKeys(exampleFormInfo['text'])">
        <i><b>{{key | titlecase}}</b>: {{exampleFormInfo['text'][key]}}; </i>
      </small>
    </label>
    <input formControlName="text" placeholder="text" class="form-control" [trim]="trigger.value"/>
  </div>

  <!--undefined-->
  <div class="form-group">
    <label>
      Field is `undefined` on init.
      <small *ngFor="let key of getKeys(exampleFormInfo['text_undefined'])">
        <i><b>{{key | titlecase}}</b>: {{exampleFormInfo['text_undefined'][key]}}; </i>
      </small>
    </label>
    <input formControlName="text_undefined" placeholder="text" class="form-control" [trim]="trigger.value"/>
  </div>

  <div class="form-group">
    <label>
      Field is `disabled` on init.
      <small *ngFor="let key of getKeys(exampleFormInfo['text_disabled'])">
        <i><b>{{key | titlecase}}</b>: {{exampleFormInfo['text_disabled'][key]}}; </i>
      </small>
    </label>
    <input formControlName="text_disabled" placeholder="text" class="form-control" [trim]="trigger.value"/>
  </div>

  <!--autofill-->
  <div class="form-group">
    <label>
      Autofill text
      <small *ngFor="let key of getKeys(exampleFormInfo['text_autofill'])">
        <i><b>{{key | titlecase}}</b>: {{exampleFormInfo['text_autofill'][key]}}; </i>
      </small>
    </label>
    <input name="name" formControlName="text_autofill" placeholder="text" class="form-control" [trim]="trigger.value"
           autocomplete="on"/>
  </div>

  <!--email-->
  <div class="form-group">
    <label>
      Email.
      <small *ngFor="let key of getKeys(exampleFormInfo['email'])">
        <i><b>{{key | titlecase}}</b>: {{exampleFormInfo['email'][key]}}; </i>
      </small>
    </label>
    <input formControlName="email" placeholder="email@example.com" type="email" class="form-control"
           [trim]="trigger.value" autocomplete="true"/>
  </div>

  <!-- number -->
  <div class="form-group">
    <label>
      Number
      <small *ngFor="let key of getKeys(exampleFormInfo['number'])">
        <i><b>{{key | titlecase}}</b>: {{exampleFormInfo['number'][key]}}; </i>
      </small>
    </label>
    <input formControlName="number" placeholder="0" type="number" class="form-control" [trim]="trigger.value"/>
  </div>

  <!-- url -->
  <div class="form-group">
    <label>
      URL
      <small *ngFor="let key of getKeys(exampleFormInfo['url'])">
        <i><b>{{key | titlecase}}</b>: {{exampleFormInfo['url'][key]}}; </i>
      </small>
    </label>
    <input formControlName="url" placeholder="https://www.github.com" type="url" class="form-control"
           [trim]="trigger.value"/>
  </div>

  <!--textarea-->
  <div class="form-group">
    <label>
      Textarea.(maxLength=10)
      <small *ngFor="let key of getKeys(exampleFormInfo['textarea'])">
        <i><b>{{key | titlecase}}</b>: {{exampleFormInfo['textarea'][key]}}; </i>
      </small>
    </label>
    <textarea formControlName="textarea" placeholder="textarea" class="form-control" [trim]="trigger.value"></textarea>
  </div>

  <div class="right">
    <button class="btn btn-primary btn-lg">Submit</button>
  </div>

  <hr/>
  <pre>
    <p> <b>Reactive Form values</b> {{ exampleForm.value | json }}</p>
    <p> <b>Form status</b> {{ exampleForm.status | json }}</p>
  </pre>

</form>
